function docsPage(){transformPage(),searchText=$("#search-input").val(),window.location.href="https://github.com/NSIS-Dev/Documentation/tree/master/Reference/"+searchText+".md"}function duckDuckGo(){transformPage(),searchText=$("#search-input").val(),injectFrame("https://duckduckgo.com/?sites=nsis.sourceforge.net&ka=h&k7=%23f5f4f3&kj=%236f6171&ky=%23ffffff&kx=b&kt=Segoe+UI&q="+searchText)}function injectFrame(t){$("#content").replaceWith('<div id="content" style="position:absolute"><iframe width="100%" height="100%" frameBorder="0" src="'+t+'"></iframe></div>')}function transformPage(){$(".ui-autocomplete").css({display:"none"}),$("#nsis-navbar-collapse").removeClass("in"),$("body").css({overflow:"hidden"})}function inArrayS(t,e){var o=-1;return $.each(e,function(e,n){-1==o&&n.label.toLowerCase()==t.toLowerCase()&&(o=e)}),o}!function(t){"function"==typeof define&&define.amd?define(["jquery","./version"],t):t(jQuery)}(function(t){var e=0,o=Array.prototype.slice;return t.cleanData=function(e){return function(o){var n,s,i;for(i=0;null!=(s=o[i]);i++)try{(n=t._data(s,"events"))&&n.remove&&t(s).triggerHandler("remove")}catch(t){}e(o)}}(t.cleanData),t.widget=function(e,o,n){var s,i,a,r={},l=e.split(".")[0],c=l+"-"+(e=e.split(".")[1]);return n||(n=o,o=t.Widget),t.isArray(n)&&(n=t.extend.apply(null,[{}].concat(n))),t.expr[":"][c.toLowerCase()]=function(e){return!!t.data(e,c)},t[l]=t[l]||{},s=t[l][e],i=t[l][e]=function(t,e){if(!this._createWidget)return new i(t,e);arguments.length&&this._createWidget(t,e)},t.extend(i,s,{version:n.version,_proto:t.extend({},n),_childConstructors:[]}),a=new o,a.options=t.widget.extend({},a.options),t.each(n,function(e,n){t.isFunction(n)?r[e]=function(){function t(){return o.prototype[e].apply(this,arguments)}function s(t){return o.prototype[e].apply(this,t)}return function(){var e,o=this._super,i=this._superApply;return this._super=t,this._superApply=s,e=n.apply(this,arguments),this._super=o,this._superApply=i,e}}():r[e]=n}),i.prototype=t.widget.extend(a,{widgetEventPrefix:s?a.widgetEventPrefix||e:e},r,{constructor:i,namespace:l,widgetName:e,widgetFullName:c}),s?(t.each(s._childConstructors,function(e,o){var n=o.prototype;t.widget(n.namespace+"."+n.widgetName,i,o._proto)}),delete s._childConstructors):o._childConstructors.push(i),t.widget.bridge(e,i),i},t.widget.extend=function(e){for(var n,s,i=o.call(arguments,1),a=0,r=i.length;a<r;a++)for(n in i[a])s=i[a][n],i[a].hasOwnProperty(n)&&void 0!==s&&(t.isPlainObject(s)?e[n]=t.isPlainObject(e[n])?t.widget.extend({},e[n],s):t.widget.extend({},s):e[n]=s);return e},t.widget.bridge=function(e,n){var s=n.prototype.widgetFullName||e;t.fn[e]=function(i){var a="string"==typeof i,r=o.call(arguments,1),l=this;return a?this.length||"instance"!==i?this.each(function(){var o,n=t.data(this,s);return"instance"===i?(l=n,!1):n?t.isFunction(n[i])&&"_"!==i.charAt(0)?(o=n[i].apply(n,r))!==n&&void 0!==o?(l=o&&o.jquery?l.pushStack(o.get()):o,!1):void 0:t.error("no such method '"+i+"' for "+e+" widget instance"):t.error("cannot call methods on "+e+" prior to initialization; attempted to call method '"+i+"'")}):l=void 0:(r.length&&(i=t.widget.extend.apply(null,[i].concat(r))),this.each(function(){var e=t.data(this,s);e?(e.option(i||{}),e._init&&e._init()):t.data(this,s,new n(i,this))})),l}},t.Widget=function(){},t.Widget._childConstructors=[],t.Widget.prototype={widgetName:"widget",widgetEventPrefix:"",defaultElement:"<div>",options:{classes:{},disabled:!1,create:null},_createWidget:function(o,n){n=t(n||this.defaultElement||this)[0],this.element=t(n),this.uuid=e++,this.eventNamespace="."+this.widgetName+this.uuid,this.bindings=t(),this.hoverable=t(),this.focusable=t(),this.classesElementLookup={},n!==this&&(t.data(n,this.widgetFullName,this),this._on(!0,this.element,{remove:function(t){t.target===n&&this.destroy()}}),this.document=t(n.style?n.ownerDocument:n.document||n),this.window=t(this.document[0].defaultView||this.document[0].parentWindow)),this.options=t.widget.extend({},this.options,this._getCreateOptions(),o),this._create(),this.options.disabled&&this._setOptionDisabled(this.options.disabled),this._trigger("create",null,this._getCreateEventData()),this._init()},_getCreateOptions:function(){return{}},_getCreateEventData:t.noop,_create:t.noop,_init:t.noop,destroy:function(){var e=this;this._destroy(),t.each(this.classesElementLookup,function(t,o){e._removeClass(o,t)}),this.element.off(this.eventNamespace).removeData(this.widgetFullName),this.widget().off(this.eventNamespace).removeAttr("aria-disabled"),this.bindings.off(this.eventNamespace)},_destroy:t.noop,widget:function(){return this.element},option:function(e,o){var n,s,i,a=e;if(0===arguments.length)return t.widget.extend({},this.options);if("string"==typeof e)if(a={},n=e.split("."),e=n.shift(),n.length){for(s=a[e]=t.widget.extend({},this.options[e]),i=0;i<n.length-1;i++)s[n[i]]=s[n[i]]||{},s=s[n[i]];if(e=n.pop(),1===arguments.length)return void 0===s[e]?null:s[e];s[e]=o}else{if(1===arguments.length)return void 0===this.options[e]?null:this.options[e];a[e]=o}return this._setOptions(a),this},_setOptions:function(t){var e;for(e in t)this._setOption(e,t[e]);return this},_setOption:function(t,e){return"classes"===t&&this._setOptionClasses(e),this.options[t]=e,"disabled"===t&&this._setOptionDisabled(e),this},_setOptionClasses:function(e){var o,n,s;for(o in e)s=this.classesElementLookup[o],e[o]!==this.options.classes[o]&&s&&s.length&&(n=t(s.get()),this._removeClass(s,o),n.addClass(this._classes({element:n,keys:o,classes:e,add:!0})))},_setOptionDisabled:function(t){this._toggleClass(this.widget(),this.widgetFullName+"-disabled",null,!!t),t&&(this._removeClass(this.hoverable,null,"ui-state-hover"),this._removeClass(this.focusable,null,"ui-state-focus"))},enable:function(){return this._setOptions({disabled:!1})},disable:function(){return this._setOptions({disabled:!0})},_classes:function(e){function o(o,i){var a,r;for(r=0;r<o.length;r++)a=s.classesElementLookup[o[r]]||t(),a=t(e.add?t.unique(a.get().concat(e.element.get())):a.not(e.element).get()),s.classesElementLookup[o[r]]=a,n.push(o[r]),i&&e.classes[o[r]]&&n.push(e.classes[o[r]])}var n=[],s=this;return e=t.extend({element:this.element,classes:this.options.classes||{}},e),this._on(e.element,{remove:"_untrackClassesElement"}),e.keys&&o(e.keys.match(/\S+/g)||[],!0),e.extra&&o(e.extra.match(/\S+/g)||[]),n.join(" ")},_untrackClassesElement:function(e){var o=this;t.each(o.classesElementLookup,function(n,s){-1!==t.inArray(e.target,s)&&(o.classesElementLookup[n]=t(s.not(e.target).get()))})},_removeClass:function(t,e,o){return this._toggleClass(t,e,o,!1)},_addClass:function(t,e,o){return this._toggleClass(t,e,o,!0)},_toggleClass:function(t,e,o,n){n="boolean"==typeof n?n:o;var s="string"==typeof t||null===t,i={extra:s?e:o,keys:s?t:e,element:s?this.element:t,add:n};return i.element.toggleClass(this._classes(i),n),this},_on:function(e,o,n){var s,i=this;"boolean"!=typeof e&&(n=o,o=e,e=!1),n?(o=s=t(o),this.bindings=this.bindings.add(o)):(n=o,o=this.element,s=this.widget()),t.each(n,function(n,a){function r(){if(e||!0!==i.options.disabled&&!t(this).hasClass("ui-state-disabled"))return("string"==typeof a?i[a]:a).apply(i,arguments)}"string"!=typeof a&&(r.guid=a.guid=a.guid||r.guid||t.guid++);var l=n.match(/^([\w:-]*)\s*(.*)$/),c=l[1]+i.eventNamespace,u=l[2];u?s.on(c,u,r):o.on(c,r)})},_off:function(e,o){o=(o||"").split(" ").join(this.eventNamespace+" ")+this.eventNamespace,e.off(o).off(o),this.bindings=t(this.bindings.not(e).get()),this.focusable=t(this.focusable.not(e).get()),this.hoverable=t(this.hoverable.not(e).get())},_delay:function(t,e){var o=this;return setTimeout(function(){return("string"==typeof t?o[t]:t).apply(o,arguments)},e||0)},_hoverable:function(e){this.hoverable=this.hoverable.add(e),this._on(e,{mouseenter:function(e){this._addClass(t(e.currentTarget),null,"ui-state-hover")},mouseleave:function(e){this._removeClass(t(e.currentTarget),null,"ui-state-hover")}})},_focusable:function(e){this.focusable=this.focusable.add(e),this._on(e,{focusin:function(e){this._addClass(t(e.currentTarget),null,"ui-state-focus")},focusout:function(e){this._removeClass(t(e.currentTarget),null,"ui-state-focus")}})},_trigger:function(e,o,n){var s,i,a=this.options[e];if(n=n||{},o=t.Event(o),o.type=(e===this.widgetEventPrefix?e:this.widgetEventPrefix+e).toLowerCase(),o.target=this.element[0],i=o.originalEvent)for(s in i)s in o||(o[s]=i[s]);return this.element.trigger(o,n),!(t.isFunction(a)&&!1===a.apply(this.element[0],[o].concat(n))||o.isDefaultPrevented())}},t.each({show:"fadeIn",hide:"fadeOut"},function(e,o){t.Widget.prototype["_"+e]=function(n,s,i){"string"==typeof s&&(s={effect:s});var a,r=s?!0===s||"number"==typeof s?o:s.effect||o:e;"number"==typeof(s=s||{})&&(s={duration:s}),a=!t.isEmptyObject(s),s.complete=i,s.delay&&n.delay(s.delay),a&&t.effects&&t.effects.effect[r]?n[e](s):r!==e&&n[r]?n[r](s.duration,s.easing,i):n.queue(function(o){t(this)[e](),i&&i.call(n[0]),o()})}}),t.widget});var debug=!0;$.urlParam=function(t){var e=new RegExp("[\\?&]"+t+"=([^&#]*)").exec(window.location.href);if(e)return e[1]||0};var useStorage=function(){try{return"localStorage"in window&&null!==window.localStorage}catch(t){return!1}},time=Date.now||function(){return+new Date},getBookmarks=function(){var t=[];return null!==localStorage.getItem("bookmarks")&&(debug&&console.log("Loading bookmarks from locationStorage"),t=JSON.parse(localStorage.getItem("bookmarks"))),t};$.widget("custom.hint",$.ui.autocomplete,{_create:function(){this._super(),this.widget().menu("option","items","> :not(.ui-autocomplete-category)")},_renderMenu:function(t,e){var o=this,n="";$.each(e,function(e,s){var i;s.category!=n&&(t.append("<li class='ui-autocomplete-category'>"+s.category+"</li>"),n=s.category),i=o._renderItemData(t,s),s.category&&i.attr("aria-label",s.category+" : "+s.label)})}}),$(function(){function t(){switch(location.hash){case"#forum":case"#forums":url="http://forums.winamp.com/forumdisplay.php?forumid=65";break;case"#wiki":url="http://nsis.sourceforge.net";break;default:return!1}transformPage(),injectFrame(url)}hash=window.location.hash,""!==hash&&t(),window.onhashchange=t});var debug=!0,b,Bookmarks={config:{saveButton:$(".save-bookmark"),sortButton:$(".sort-bookmark"),manageButton:$(".manage-bookmarks"),deleteButton:$(".delete-bookmark")},init:function(){b=this.config,this.events(),this.populate()},events:function(){b.saveButton.click(function(t){Bookmarks.save()}),b.sortButton.click(function(t){Bookmarks.sort()}),b.manageButton.click(function(t){Bookmarks.manage()}),$("body").on("click",".delete-bookmark",function(t){Bookmarks.delete($(this))})},populate:function(){var t=this.getItem();if(t.length>0){$("#bookmarks-menu").removeClass("hidden");var e="";t.forEach(function(t){void 0!==t&&null!==t&&(e+='\n<li><a href="'+t.url+'" rel="bookmark">'+t.name+"</a></li>")}),$("#bookmarks-menu ul .divider").nextAll().remove(),$("#bookmarks-menu ul").append(e)}else $(".bookmark-manager").modal("hide"),$("#bookmarks-menu").addClass("hidden")},manage:function(){event.preventDefault(),debug&&console.log("Launching bookmark manager"),$(".modal").remove();var t=this.getItem();modal=Modal.header("bookmark-manager","Bookmark Manager"),modal+='\n        <div class="table-responsive">',modal+='\n          <table class="table table-hover table-striped">',modal+="\n            <tbody>",t.forEach(function(t){void 0!==t&&(modal+="\n                <tr>",modal+="\n                  <td>"+t.name+'<br><a href="'+t.url+'" class="text-muted small bookmark-url">'+t.url+"</a></td>",modal+='\n                  <td class="text-right"><button type=button class="btn btn-sm btn-danger delete-bookmark"">Remove</button></td>',modal+="\n                </tr>")}),modal+="\n            </tbody>",modal+="\n          </table>",modal+="\n        </div>",modal+=Modal.footer("Close"),$("body").append(modal),$(".bookmark-manager").modal("show")},sort:function(){event.preventDefault();var t=this.getItem();debug&&console.log("Sorting bookmarks"),t.sort(byKey("name")),this.setItem(t),this.populate()},delete:function(t){event.preventDefault(),debug&&console.log("Delete bookmark");var e=t.parent("td").prev("td").children(".bookmark-url").text();t.closest("tr").hide();var o=getBookmarks();if(o.length>0)for(var n=o.length-1;n>=0;n--)o[n].url===e&&(debug&&console.log("Deleting bookmark"),o.splice(n,1));this.setItem(o),this.populate()},save:function(){event.preventDefault();var t=this.getItem(),e=document.title,o=" | Nullsoft Scriptable Install System";e.endsWith(o)&&(e=e.slice(0,-o.length));var n=window.location.href,s=!1;t.length>0&&t.forEach(function(t){t.url===n&&(s=!0)}),!0===s?debug&&console.log("Duplicate link, skipping "+n):(console.log("Saving bookmark "+n),t.push({name:e,url:n}),this.setItem(t),$("#bookmarks-menu ul").append('\n<li><a href="'+n+'" rel="bookmark">'+e+"</a></li>"),$("#bookmarks-menu").removeClass("hidden"))},getItem:function(){var t=[];return null!==localStorage.getItem("bookmarks")&&(debug&&console.log("Loading bookmarks from locationStorage"),t=JSON.parse(localStorage.getItem("bookmarks"))),t},setItem:function(t){debug&&console.log("Saving bookmarks to locationStorage"),localStorage.setItem("bookmarks",JSON.stringify(t))}},m,Modal={init:function(){this.events()},events:function(){},header:function(t,e){var o='<div class="'+t+' modal fade" tabindex="-1" role="dialog">';return o+='\n  <div class="modal-dialog">',o+='\n    <div class="modal-content">',o+='\n      <div class="modal-header">',o+='\n        <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>',o+='\n        <h4 class="modal-title">'+e+"</h4>",o+="\n      </div>",o+='\n      <div class="modal-body">'},footer:function(t){var e="\n      </div>";return e+='\n      <div class="modal-footer">',e+='\n        <button type="button" class="btn btn-default" data-dismiss="modal">'+t+"</button>",e+="\n      </div>",e+="\n    </div>",e+="\n  </div>",e+="\n</div>"}},p,Preferences={config:{setupButton:$(".setup-page"),switchButton:$(".set-highlighter"),customTheme:$(".custom-theme")},init:function(){p=this.config,this.events()},events:function(){p.setupButton.click(function(t){Preferences.show()}),$("body").on("click",".set-highlighter",function(t){Preferences.switch()})},show:function(){event.preventDefault(),this.modal()},switch:function(){debug&&console.log("Switching theme"),$(".set-highlighter").removeClass("active"),p.customTheme.addClass("hidden"),console.log(event.target),$(event.target).addClass("active");var t=$(event.target).text().toLowerCase();"dark"!==t&&"light"!==t||($("body").removeClass("hljs-dark hljs-light").addClass("hljs-"+t),$(".hljs-theme").attr("href","assets/css/highlighter.css"),localStorage.setItem("hljs-theme",t)),debug&&console.log("Highlighter is set to "+t)},modal:function(){debug&&console.log("Showing page settings"),$(".modal").remove();var t="",e="",o=" hidden",n=localStorage.getItem("hljs-theme");console.log("-"+n+"-"),"dark"===n?t=" active":"light"===n?e=" active":o=" active",modal=Modal.header("page-settings","Page Settings"),modal+="<p>Highlighter theme:</p>",modal+='<div class="btn-group switch" role="group">',modal+='  <button type="button" class="btn btn-switch set-highlighter'+t+'">Dark</button>',modal+='  <button type="button" class="btn btn-switch set-highlighter'+e+'">Light</button>',modal+='  <button type="button" class="btn btn-switch custom-theme'+o+'">Custom</button>',modal+="</div>",modal+=Modal.footer("Close"),$("body").append(modal),$(".page-settings").modal("show")}},k,Keyboard={config:{input:$("#search-input")},init:function(){m=this.config,this.events()},events:function(){$(document).bind("keyup",function(t){Keyboard.focus()})},focus:function(){70===event.which&&(debug&&console.log("Focusing search"),$("#search-input").focus())}},h,Highlight={config:{style:"assets/css/highlighter.css",custom:null,code:$("pre code"),theme:$(".hljs-theme"),body:$("body")},init:function(){h=this.config,this.default(),this.apply()},default:function(){if(!localStorage.getItem("hljs-theme")){localStorage.setItem("hljs-theme","dark")}},apply:function(){h.custom=localStorage.getItem("hljs-theme")||"dark","dark"===h.custom||"light"===h.custom?(debug&&console.log("Default "+h.custom+" theme"),h.body.removeClass("hljs-dark hljs-light").addClass("hljs-"+h.custom),h.theme.attr("href",h.style)):(debug&&console.log("Custom theme from "+h.custom),h.theme.attr("href",h.custom)),h.code.each(function(t,e){hljs.highlightBlock(e)})}};$(function(){var t,e;if(void 0===o)var o="documentation.json";$.ajax(o,{dataType:"json",success:function(e){t=e}}).done(function(){void 0!==$.urlParam("s")&&injectFrame("https://duckduckgo.com/?sites=nsis.sourceforge.net&ka=h&k7=%23f5f4f3&kj=%236f6171&ky=%23ffffff&kx=b&kt=Segoe+UI&q="+(e=$.urlParam("s"))),$("#search-input").attr("placeholder","Search").removeAttr("disabled").focus(),$("#search-input").keydown(function(){var o=$("#search-form");e=$("#search-input").val(),$("#search-input>ul>li.ui-state-focus").removeClass("ui-state-focus"),$(".ui-menu-item").filter(function(){return $.text([this])===e}).addClass("ui-state-focus"),inArrayS(e,t)>-1?o.attr("action","javascript:docsPage()"):o.attr("action","javascript:duckDuckGo()")}),$("#search-form").submit(function(t){if(""===$.trim($("#search-input").val()))return!1}),$("#search-input").hint({delay:0,source:t}),$(".ui-autocomplete").css({padding:"0"})})});